<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Administrar Iglesia</title>
            </f:facet>
            
        </h:head>

        <h:body>
             
            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="215"   collapsible="true">
                    <div>
                    <p:graphicImage value="/imagenes/iglesia2.jpg"  width="100%"/> 
                    </div>
                </p:layoutUnit>

                <p:layoutUnit position="south" size="50" footer="TURISMO RELIGIOSO" style="text-align:center" >
                    
                </p:layoutUnit>

                <p:layoutUnit position="west" size="300" header="Menu" collapsible="true">
                    <h:form>
                        <p:panelMenu style="width:400px">
                         <p:submenu label="Home">
                                <p:menuitem value="Pagina Principal" url="/faces/portal.xhtml" />                                
                         </p:submenu >
                             <p:submenu label="Administracion">
                                <p:menuitem value=" Administrar Laboratorios" url="/faces/laboratorios.xhtml" icon="ui-icon-document"/>
                                <p:menuitem value=" Administrar Docentes"  url="/faces/docentes.xhtml" icon="ui-icon-document"/>
                                <p:menuitem value=" Administrar Horarios"  url="/faces/horarios.xhtml" icon="ui-icon-document"/>
                                <p:menuitem value=" Administrar Materias"  url="/faces/materias.xhtml" icon="ui-icon-document"/>
                                <p:menuitem value=" Administrar Usuarios"  url="/faces/usuarios.xhtml" icon="ui-icon-document"/>

                         </p:submenu >
                         <p:submenu label="Control">
                                <p:menuitem value="Asignacion de Laboratorios" url="/faces/asignacion.xhtml" icon="ui-icon-document" />
                                <p:menuitem value="Registro"  url="/faces/registro.xhtml" icon="ui-icon-document"/>
                         </p:submenu >
                         <p:submenu label="Informes">
                             <p:menuitem value="Reportes" url="/faces/reportes.xhtml" icon="ui-icon-document"/>
                                
                         </p:submenu >
                         <p:submenu label="Opciones">
                             <p:menuitem value="Salir Sesion"  actionListener="#{controladorAutenticacio.logout()}" oncomplete="logout(xhr, status, args)"  url="/faces/index.xhtml" icon="ui-icon-document"/>
                                
                         </p:submenu >
                        </p:panelMenu>
                    </h:form>    
                </p:layoutUnit>
                <p:layoutUnit position="center">

                    <p:growl id="mensajes" autoUpdate="true" showDetail="true"/>
                   <h:form id="frmClientes">
                       <p:dataTable id="tblClientes" value="#{controladorIglesias.listaIglesia}" 
                                    var="iglesia" rowKey="#{iglesia.idIglesia}"
                             selectionMode="single" 
                             selection="#{controladorIglesias.objIglesiaSeleccionado}"
                              paginator="true" rows="10"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="5,10,15">
                           
                            <f:facet name="header">
                                    
                           <h2>Listado de Iglesias</h2>  
                           </f:facet>
                           <p:column headerText="Codigo" sortBy="#{iglesia.idIglesia}" filterBy="#{iglesia.idIglesia}">
                               <h:outputText value="#{iglesia.idIglesia}"/>
                           </p:column>                     
                           <p:column headerText="Nombre" sortBy="#{iglesia.nombre}" filterBy="#{iglesia.nombre}">
                               <h:outputText value="#{iglesia.nombre}"/>
                           </p:column>                     
                           <p:column headerText="Dirección" sortBy="#{iglesia.direccion}" >
                               <h:outputText value="#{iglesia.direccion}"/>
                           </p:column>                     
                           <!--<p:column headerText="Descripción" sortBy="#{iglesia.descripcion}">
                               <h:outputText value="#{iglesia.descripcion}"/>
                            </p:column> 
                            <p:column headerText="Historia" sortBy="#{iglesia.historia}">
                                 <h:outputText value="#{iglesia.historia}"/>
                           </p:column>                     
                           <p:column headerText="Horario Misa" sortBy="#{iglesia.horarioMisas}" >
                               <h:outputText value="#{iglesia.horarioMisas}"/>
                           </p:column>                     
                           <p:column headerText="Horario Visitas" sortBy="#{iglesia.horarioVisitas}" >
                               <h:outputText value="#{iglesia.horarioVisitas}"/>
                           </p:column> 
                           <p:column headerText="leyendas" sortBy="#{iglesia.leyendas}">
                               <h:outputText value="#{iglesia.leyendas}"/>
                           </p:column>                            <p:column headerText="Latitud" sortBy="#{iglesia.punto}" >
                               <h:outputText value="#{controladorIglesias.ObtenerLatitud(iglesia.punto)}"/>
                           </p:column>
                           <p:column headerText="Longitud" sortBy="#{iglesia.punto}" >
                               <h:outputText value="#{controladorIglesias.ObtenerLongitud(iglesia.punto)}"/>
                           </p:column> -->
                           
                    <f:facet name="footer">
                        <p:commandButton id="btnNuevo" value="Nuevo"
                                         onclick="wdlgNuevoCliente.show();"
                                         update=":frmNuevoCliente:pngCliente"/>
                        <p:commandButton id="bntEliminar" value="Eliminar"
                                         onclick="wdlgEliminarCliente.show();"
                                         update=":frmEliminarCliente:pngEliminarCliente"/>
                    </f:facet>
                </p:dataTable>
                    
                
            </h:form>
              
               
                </p:layoutUnit>
        
            </p:layout>
            
            <p:dialog id="dlgNuevoCliente" widgetVar="wdlgNuevoCliente" dynamic="true" style="width:500px"
                       header="Nueva Iglesia" modal="true" closable="false" showEffect="explode" hideEffect="drop" resizable="false">
                <h:form id="frmNuevoCliente">
                        <p:panelGrid id="pngCliente" columns="2">
                        <h:outputText value="Nombre"/>
                        <p:inputText id="txtNombre" value="#{controladorIglesias.objIglesias.nombre}"  onkeyup="this.value=this.value.toUpperCase();"/>
                        <h:outputText value="Dirección"/>
                        <p:inputText id="txtDireccion" value="#{controladorIglesias.objIglesias.direccion}"/>
                       <h:outputText value="Descripción"/>
                       <p:inputText id="txtDescripcion" value="#{controladorIglesias.objIglesias.descripcion}"  onkeyup="this.value=this.value.toUpperCase();"/>
                        <h:outputText value="Historia"/>
                        <p:inputText id="txtHistoria" value="#{controladorIglesias.objIglesias.historia}"/>
                         <h:outputText value="Horario Visitas"/>
                         <p:inputText id="txtVisitas" value="#{controladorIglesias.objIglesias.horarioVisitas}"  onkeyup="this.value=this.value.toUpperCase();"/>
                        <h:outputText value="Horario Misas"/>
                        <p:inputText id="txtMisa" value="#{controladorIglesias.objIglesias.horarioMisas}"/>
                        <h:outputText value="Leyendas"/>
                        <p:inputText id="txtLeyenda" value="#{controladorIglesias.objIglesias.leyendas}"/>
                        
                       <h:outputText value="Punto"/>
                       <p:selectOneMenu  value="#{controladorIglesias.objIglesias.punto}" style="width:200px"  filter="true" filterMatchMode="startsWith">
                           <f:selectItems value="#{controladorPunto.listaPunto}" var="objPunto" itemValue="#{objPunto.idPunto}" itemLabel="#{controladorIglesias.ObtenerPunto(objPunto.idPunto)}"/>
                        </p:selectOneMenu>
                       
                      <h:outputText value="Estilo"/>
                      <p:selectOneMenu  value="#{controladorIglesias.objIglesias.estilo}" style="width:200px"  filter="true" filterMatchMode="startsWith" >
                          <f:selectItems value="#{controladorEstilo.listaEstilo}" var="objEstilo" itemValue="#{objEstilo.idEstilo}" itemLabel="#{objEstilo.nombreEstilo}"/>
                      </p:selectOneMenu >
                                           
                    </p:panelGrid>
                    <p:separator />
                    <p:commandButton id="btnNuevoCliente" value="Guardar"
                                     action="#{controladorIglesias.insertarIglesia()}"
                                     update=":frmClientes:tblClientes"/>
                    <p:commandButton id="bntCancelarNuevo"   update="pngCliente" value="Cancelar" onclick="wdlgNuevoCliente.hide();" actionListener="#{controladorDocente.limpiar}"/>
                </h:form>
            </p:dialog >
            
            
            <p:dialog id="dlgEliminarCliente" widgetVar="wdlgEliminarCliente" header="Eliminar "
                      modal="true" closable="false" showEffect="explode" hideEffect="drop" resizable="false">
                <h:form id="frmEliminarCliente">
                    <p:panelGrid id="pngEliminarCliente" columns="2">
                        
                           <h:outputText value="Código"/>
                           <p:inputText value="#{controladorIglesias.objIglesiaSeleccionado.idIglesia}" disabled="true"/>
                        <h:outputText value="Nombre"/>
                        <p:inputText value="#{controladorIglesias.objIglesiaSeleccionado.nombre}" disabled="true"/>
                        <h:outputText value="Estilo"/>
                        <p:inputText value="#{controladorIglesias.objIglesiaSeleccionado.estilo}" disabled="true"/>
                        
                    </p:panelGrid>
                    <p:separator />
                    <p:commandButton id="btnEliminarCliente" value="Aceptar"
                                     action="#{controladorIglesias.eliminarIglesia()}"
                                     update=":frmClientes:tblClientes"/>
                    <p:commandButton id="btnCancelarEliminar" value="Cancelar"
                                     onclick="wdlgEliminarCliente.hide();"/>
                </h:form>
            </p:dialog> 
            
            
            
        </h:body>

    </f:view>
</html>